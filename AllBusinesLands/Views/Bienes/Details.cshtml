@using AllBusinesLands.Models
@using Microsoft.AspNet.Identity
@model AllBusinesLands.Models.Bien

@{
    ViewBag.Title = "Details";
    ApplicationDbContext db = new ApplicationDbContext();
}

<h2>Detalles</h2>

<div class="container">
    <h4>@Model.Titulo</h4>
    <hr/>
    <div class="row">

<<<<<<< HEAD
        <img id="img" class="img-responsive col-md-4" src="https://www.seeklogo.net/wp-content/uploads/2015/09/uefa-euro-2016-logo-vector-download.jpg" />
=======
        <img id="img" class="img-responsive col-md-4" src="https://www.seeklogo.net/wp-content/uploads/2015/09/uefa-euro-2016-logo-vector-download.jpg"/>
>>>>>>> a9a006ce6f265dd8429b6fb11e0bdefe9498be4a

        <dl class="dl-horizontal col-md-4">
            <dt>
                @Html.DisplayNameFor(model => model.Detalle)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Detalle)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Precio)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Precio)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Telefono)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Telefono)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Email)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Email)
            </dd>
        </dl>
        <dl class="dl-horizontal col-md-4">
            <dt>
                @Html.DisplayNameFor(model => model.FechaIngreso)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.FechaIngreso)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.HoraIngreso)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.HoraIngreso)
            </dd>
            @if (User.IsInRole("Administrador"))
            {
                <dt>
                    @Html.DisplayNameFor(model => model.Estado)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.Estado)
                </dd>
            }
        </dl>
    </div>
<<<<<<< HEAD
    <hr />
=======
    <hr/>
>>>>>>> a9a006ce6f265dd8429b6fb11e0bdefe9498be4a

    <div>
        <div>
            <h2>@Html.DisplayNameFor(model => model.Comentarios)</h2>
<<<<<<< HEAD
            @Html.ActionLink("Nuevo", "Create", "Comentarios", new { id = Model.Id }, new { @class = "btn btn-primary" })
=======
            @Html.ActionLink("Create", "Create", "Comentarios", new {id = Model.Id}, new {@class = "btn btn-primary"})
>>>>>>> a9a006ce6f265dd8429b6fb11e0bdefe9498be4a
        </div>

        @foreach (var item in Model.Comentarios)
        {
            <div>
                @{
                    var userName = from users in db.Users
                        where users.Id == item.UserId
                        select users.UserName;
                }

<<<<<<< HEAD
                <strong>@Html.DisplayFor(modelItem => userName)</strong> <br /> <br />
                @Html.DisplayFor(modelItem => item.Contenido) <br /> <br />
                <div class="row container">
                    @Html.DisplayFor(modelItem => item.FechaIngreso)
                    @Html.DisplayFor(modelItem => item.HoraIngreso)
                </div>
=======
                <strong>@Html.DisplayFor(modelItem => userName)</strong> <br/> <br/>
                @Html.DisplayFor(modelItem => item.Contenido) <br/> <br/>
>>>>>>> a9a006ce6f265dd8429b6fb11e0bdefe9498be4a

                @if (User.IsInRole("Administrador"))
                {
                    <br />
                    <p>
<<<<<<< HEAD
                        @*@Html.ActionLink("Editar", "Edit", "Comentarios", new { id = item.Id }, new { @class = "btn btn-warning" })*@
=======
                        @Html.ActionLink("Editar", "Edit", "Comentarios", new {id = item.Id}, new {@class = "btn btn-warning"})

>>>>>>> a9a006ce6f265dd8429b6fb11e0bdefe9498be4a
                        <a href="/Comentarios/Edit/@item.Id" class="btn btn-warning">
                            <span class="glyphicon glyphicon-pencil" aria-hidden='true'></span> Editar
                        </a>
                    </p>
                    <br />
                }
            </div>
<<<<<<< HEAD
         }
 </div>
=======
        }
    </div>
>>>>>>> a9a006ce6f265dd8429b6fb11e0bdefe9498be4a

</div>
   
    @Html.BeginForm("EnviarBien", "Home", new { bienId = Model.Id}, FormMethod.Post)
    {
        <input type="submit" value="Sign In">
    }


<p>
    @Html.ActionLink("Edit", "Edit", new { id = Model.Id }) |
    @Html.ActionLink("Back to List", "Index")
</p>
